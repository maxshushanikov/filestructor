# Участие в разработке Filestructor

Спасибо за интерес к участию в разработке Filestructor! Мы приветствуем вклад сообщества для улучшения проекта. Этот гайд поможет вам начать работу с внесением кода, документации и отчетами об ошибках.

## Содержание
- [Кодекс поведения](#кодекс-поведения)
- [Как я могу поучаствовать?](#как-я-могу-поучаствовать)
- [Настройка среды разработки](#настройка-среды-разработки)
- [Структура проекта](#структура-проекта)
- [Правила кодирования](#правила-кодирования)
- [Тестирование](#тестирование)
- [Отправка изменений](#отправка-изменений)
- [Процесс Pull Request](#процесс-pull-request)
- [Сообщение об ошибках](#сообщение-об-ошибках)
- [Запросы новых функций](#запросы-новых-функций)

## Кодекс поведения

Этот проект и все участвующие в нем люди руководствуются нашим [Кодексом поведения](CODE_OF_CONDUCT.md). Участвуя в проекте, вы соглашаетесь соблюдать этот кодекс. Пожалуйста, сообщайте о неприемлемом поведении разработчикам проекта.

## Как я могу поучаствовать?

### Сообщение об ошибках
Этот раздел поможет вам отправить отчет об ошибке. Следование этим рекомендациям поможет разработчикам понять ваш отчет, воспроизвести поведение и найти решение.

### Предложение улучшений
Этот раздел поможет вам предложить улучшение, включая процесс предложения новых функций.

### Ваш первый вклад в код
Не уверены, с чего начать? Вы можете начать с этих проблем, подходящих для новичков:
- [Хорошие первые задачи](https://github.com/yourusername/filestructor/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22)

### Pull Requests
Процесс отправки изменений кода описан ниже.

## Настройка среды разработки

1. **Создайте форк репозитория** на GitHub
   
2. **Клонируйте свой форк** локально:
   ```bash
   git clone https://github.com/ваш-пользователь/filestructor.git
   cd filestructor
   ```

3. **Создайте виртуальное окружение**:
   ```bash
   python -m venv venv
   venv\Scripts\activate  # Для Windows
   # source venv/bin/activate  # Для Linux/Mac
   ```

4. **Установите зависимости**:
   ```bash
   pip install -e .[dev]
   ```

5. **Проверьте установку**:
   ```bash
   filestructor --help
   ```

## Структура проекта

```
filestructor/
├── app/
│   ├── __init__.py
│   ├── app.py          # Точка входа CLI
│   ├── builder.py      # Построение дерева файловой системы
│   ├── components.py   # Компоненты файловой системы
│   ├── console.py      # Обработка пользовательского ввода
│   ├── file_utils.py   # Утилиты для операций с файлами
│   └── visitors.py     # Генерация отчетов
├── tests/              # Набор тестов
├── .github/            # GitHub workflows и шаблоны
├── docs/               # Документация
├── pyproject.toml      # Конфигурация проекта
├── mkdocs.yml          # Конфигурация документации
└── CONTRIBUTING.md     # Этот файл
```

## Правила кодирования

- Следуйте [PEP 8](https://pep8.org/) для стиля кода
- Используйте аннотации типов для всех сигнатур функций
- Пишите docstrings в формате Google
- Делайте функции и методы сфокусированными и компактными
- Избегайте глобальных переменных
- Пишите тесты для всего нового функционала
- Добавляйте комментарии для сложной логики

## Тестирование

Filestructor использует pytest для тестирования. Перед отправкой pull request убедитесь, что все тесты проходят:

```bash
pytest -v
```

Для запуска тестов с отчетом о покрытии:

```bash
pytest -v --cov=app --cov-report=html
```

Затем откройте `htmlcov/index.html` в браузере, чтобы просмотреть отчет о покрытии.

### Написание тестов

При добавлении нового функционала, пожалуйста, включите тесты в соответствующий файл в директории `tests/`. Следуйте этим рекомендациям:

- Используйте описательные имена тестов
- Делайте тесты изолированными и независимыми
- Используйте фикстуры pytest где уместно
- Тестируйте граничные случаи и условия ошибок
- Убедитесь, что тесты детерминированы

## Отправка изменений

1. Создайте новую ветку:
   ```bash
   git checkout -b feature/название-вашей-функции
   ```

2. Внесите изменения

3. Запустите тесты, чтобы убедиться, что все работает:
   ```bash
   pytest -v
   ```

4. Отформатируйте код с помощью black:
   ```bash
   black .
   ```

5. Добавьте и закоммитьте изменения:
   ```bash
   git add .
   git commit -m "Добавьте описательное сообщение коммита"
   ```

6. Отправьте ветку:
   ```bash
   git push origin feature/название-вашей-функции
   ```

## Процесс Pull Request

1. Убедитесь, что зависимости для установки или сборки удалены до конца слоя при выполнении сборки.
2. Обновите README.md с деталями изменений интерфейса, включая новые переменные окружения, открытые порты, полезные расположения файлов и параметры контейнера.
3. Увеличьте номера версий в примерах файлов и в README.md до новой версии, которую представляет этот Pull Request.
4. Вы можете объединить Pull Request после получения одобрения хотя бы одного другого разработчика, или если у вас нет прав для этого, вы можете запросить у второго рецензента объединить его для вас.

## Сообщение об ошибках

При сообщении об ошибках, пожалуйста, включите:

- Версию Filestructor
- Версию Python
- Операционную систему
- Шаги для воспроизведения проблемы
- Ожидаемое поведение
- Фактическое поведение
- Любые соответствующие сообщения об ошибках или стек-трейсы

## Запросы новых функций

Перед отправкой запроса на новую функцию, пожалуйста, проверьте, не был ли уже запрошен этот функционал. При создании нового запроса, пожалуйста, предоставьте:

- Четкое и описательное название
- Подробное описание функции
- Проблему, которую она решает
- Любые альтернативы, которые вы рассмотрели
- Дополнительный контекст или скриншоты

---

Спасибо за участие в разработке Filestructor!